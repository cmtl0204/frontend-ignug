<div class="container-fluid">
    <p-toolbar *ngIf="!loadingSkeleton" styleClass="bg-primary">
      <div class="p-toolbar-group-left">
        <h3 class="ml-2">{{title}}</h3>
      </div>
      <div class="p-toolbar-group-right">
        <app-progress-bar *ngIf="progressBar" [message]="messageService.progressBarSaveOrUpdate"></app-progress-bar>
        <i *ngIf="form.touched || form.dirty" class="pi pi-check p-button p-button-text" (click)="onSubmit()"
           style="font-size: 2rem; color: #fff" [pTooltip]="messageService.buttonFormSaveOrUpdate"></i>
        <i class="pi pi-times p-button p-button-text" (click)="returnList()"
           style="font-size: 2rem; color: #fff" [pTooltip]="messageService.buttonFormClose"></i>
      </div>
    </p-toolbar>
  </div>

  <div class="container">
    <app-skeleton *ngIf="loadingSkeleton" [type]="'card'"></app-skeleton>
    <p-card>
      <div class="p-fluid" *ngIf="!loadingSkeleton">
         <form [formGroup]="form" (ngSubmit)="onSubmit()">

          <div class="field ">
              <label for="user" appLabel label="IdentificaciÃ³n de usuario:"
                     [required]="isRequired(user)"
                     [valid]="userField.valid"
                     [touched]="user.touched"
                     [dirty]="user.dirty">
              </label>
     <p-dropdown id="user"
                 dataKey="id"
                [options]="users"
                formControlName="user"
                [filter]="true"
                filterBy="name"
                placeholder="Seleccione">
      <ng-template pTemplate="selectedItem">
        <div class="country-item country-item-value" *ngIf="userField.value">
        <div>{{userField.value?.name}}</div>
      </div>
      </ng-template>
     <ng-template let-item pTemplate="item">
      <div class="country-item">
        <div>{{item.name}} </div>
      </div>
    </ng-template>
    </p-dropdown>
               <small appErrorMessage
                     [errors]="userField.errors"
                     [touched]="userField.touched"
                     [dirty]="userField.dirty">
              </small> 
            </div>
         <p-divider></p-divider>

          <div class="formgrid grid">
            <div class="field xl:col-6 lg:col-6 md:col-12 sm:col-12">
              <button pButton pRipple [label]="buttonTitle" class="p-button-rounded" icon="pi pi-save"></button>
            </div>
            <div *ngIf="progressBar" class="field xl:col-6 lg:col-6 md:col-12 sm:col-12">
              <app-progress-bar [message]="messageService.progressBarSaveOrUpdate"></app-progress-bar>
            </div>
          </div>
          </form>     
    </p-card>
  </div>
  
